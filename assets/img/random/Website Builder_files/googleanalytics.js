define(["jquery","knockout","common/popper/popper","common/logger/logger"],function(n,a,e){function t(n,a,e){window._trfq&&window._trfq.push(["cmdLogImpression",p(n,a,e)])}function r(n,a,e,t,r){if(window._trfq){var o=[["category",s(n)],["action",s(a)]];e&&o.push(["label",s(e)]),window._trfq.push(["cmdLogPageEvent","trackEvent",p(n,a,e),o])}else window._gaq&&window._gaq.push(["_trackEvent",n,a,e,t,r])}function o(n){if(window._trfq){var a=n.match(/modal/)?"modalOpen":"flyoutOpen",e=[["category",n],["action",s(a)]];window._trfq.push(["cmdLogPageEvent",a,p(n,a),e])}else window._gaq&&window._gaq.push(["_trackPageview",n])}function i(n){o("vpv/modal/"+n)}function c(n){o("vpv/flyout/"+n)}function u(n,a,e){if(window._trfq){var t=[["category",s(n)],["action",s(a)]];e&&t.push(["label",s(op_taget)]),window._trfq.push(["cmdLogPageEvent","socialEvent",p(n,a),t])}else window._gaq&&window._gaq.push(["_trackSocial",n,a,e])}function w(n){if(window._trfq)window._trfq.push(["cmdLogPageEvent","popupOpen",p(n.category,n.action,n.label),[["category",n.category],["action",n.action],["label",n.label]]]);else{if(!window._gaq)return!0;n.url&&window._gat&&(n.url=window._gat._getTrackers()[0]._getLinkerUrl(n.url))}return e.show(n),!1}function l(n,a){return window._trfq?(window._trfq.push(["cmdLogPageEvent","linkOpen",p(n,"newTabOpened"),[["category",n],["action","newTabOpen"]]]),("_blank"===a||"blank"===a)&&window.open(n),!1):window._gaq?("_blank"!==a&&"blank"!==a||!window._gat?window._gaq.push(["_link",n]):window.open(window._gat._getTrackers()[0]._getLinkerUrl(n)),!1):!0}function g(n){var a=n.attr("href"),e=n.attr("target");return l(a,e)}function p(n,a,e){return a=a?"."+a:"",e=e?"."+e:"","pandc.wsb."+s(n)+a+e}function s(n){return n||""}function f(){return window.location.pathname.replace(/\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,"").replace(/\/$/,"")}a.bindingHandlers.ga={init:function(e,t){function o(n,e){u.on("click",function(){(!e||e())&&r(a.utils.unwrapObservable(n.category),a.utils.unwrapObservable(n.action),a.utils.unwrapObservable(n.label),a.utils.unwrapObservable(n.value),a.utils.unwrapObservable(n.nonInteraction))})}function i(n,a){o(a,function(){return e.checked==n})}var c=t(),u=n(e);for(var w in c)if(c.hasOwnProperty(w)){var l=c[w];switch("string"==typeof l&&(l={action:l}),l.category||(l.category=c.category),w){case"click":o(l);break;case"check":i(!0,l);break;case"uncheck":i(!1,l);break;default:u.on(w,function(){r(a.utils.unwrapObservable(l.category),a.utils.unwrapObservable(l.action),a.utils.unwrapObservable(l.label),a.utils.unwrapObservable(l.value),a.utils.unwrapObservable(l.nonInteraction))})}}}};var d={trackImpression:t,trackEvent:r,trackPageView:o,trackModal:i,trackFlyout:c,trackSocial:u,link:l,linkAnchor:g,popLink:w,removeUrlGuid:f};return d});
//# sourceMappingURL=googleanalytics.js.map