/*! duel v2.5.8 - Built 2016-01-14, 12:01 PM PST - Copyright (c) 2016 */
var $sfFlyout=null;define("starfield/sf.flyout",["jq!starfield/jquery.mod","starfield/sf.msg.overlay","starfield/sf.tabs","css!starfield/sf.core.css","css!starfield/sf.flyout.css","starfield/sf.util"],function(){return function(a){return a.fn.sfFlyout=function(b,c){var d=a(this),e=d.attr("id");(null==e||0==e.length)&&(e="sfFlyout"+Math.round(65535*Math.random()),d.attr("id",e));var f=a.fn.sfFlyout.instances[e];return null!=f?(f.me_this=this,f.me=d,f.fn(f,b,c)):(f=a.fn.sfFlyout.instances[e]={me_this:this,me:a(this),initialized:!1,isEnabled:!0,fn:function(b,c,e){function f(c,e){if(b.meId=b.me.attr("id"),b.me.addClass("sf-flyout-main"),"undefined"==typeof b.settings){var f={anchor:null,autoOpen:!0,context:self,displayContext:self,destroyOnClose:!0,dialogWidthIdeal:-1,dialogHeightMin:100,disabled:!1,load:null,restore:!1,save:!1,modal:!0,message:null,noConflict:!1,preload:null,zIndex:void 0,onOpen:null,onClose:null,onTabSelected:null,onTabDeselected:null,onLoad:null,yDefaultPosition:"bottom",xIdealPosition:"left",boxShadowAdjustment:0,dialogBoxShadowAdjustment:0,client:"*",singleClientInstance:!1,tabMode:"normal",mode:"tab",positionPath:"clock",tipPosition:"tl",sticky:!1,className:"",closeTimeoutInterval:void 0,closeOnBlur:!0,blurTrigger:"click",ignoreWindowChanges:!1,centerAgainstAnchor:!1,extendedElements:void 0};b.settings=a.extend(!0,f,c),b.msgOverlay=null}else b.settings=a.extend(!0,b.settings,c);if(null==b.settings.anchor)return d;b.opener=a(),b.opened=a(),a(".sf-flyout-main:sf-flyout(open)").not("#"+b.meId).each(function(){var c=a(this);return"jquery"in c?void(($sf.util.jCompat.findEl(c,b.settings.anchor).length>0||c.is("iframe")&&$sf.util.jCompat.findEl(c.contents(),b.settings.anchor).length>0)&&(b.opener=c,c.sfFlyout("setOpened",b.me))):!0}),b.closeOnBlur=b.settings.closeOnBlur,b.mode=b.settings.mode,b.context=$sf.util.context(b.settings.context,b.settings.displayContext),b.unboundEvents=!0;for(var i=a.isArray(b.settings.blurTrigger)?b.settings.blurTrigger:b.settings.blurTrigger.split(" "),j=0;j<i.length;j++)i[j]=i[j]+"."+b.meId;if(b.blurEvents=i.join(" "),0==b.settings.noConflict&&($sfFlyout=d),1==b.me.parent().is(".sf-flyout-inner,.sf-g-flyout-content")?(b.inner=b.me.parent(),b.content=b.inner.parent(),b.dialog=b.content.parent(".sf-flyout,.sf-g-flyout")):(b.dialog=a("<div/>").addClass("sf-flyout"),"*"!=b.settings.client&&b.dialog.addClass("sf-flyout-client-"+b.settings.client),b.content=a("<div/>").addClass("sf-flyout-content"),b.inner=a("<div/>").addClass("sf-flyout-inner"),b.tabs=null,b.tabLastSelected=null,b.tabsHeight=0,b.tail=null,b.content.append(b.inner),b.dialog.append(b.content),"tip"===b.settings.mode&&(b.tail=a("<div />").addClass("sf-flyout-client-"+b.settings.client+"-tpr "+s(b.settings.tipPosition)).attr("data-tip",b.settings.tipPosition),b.dialog.append(b.tail)),b.meBody=a("body:first",b.context.ext.document()),b.layer=$sf.util.zIndex.getLayer("flyout",b.meBody,b.context.isSingle()?b.settings.anchor:b.context.ext.iframe()),b.layer.append(b.dialog)),""!=b.settings.className&&b.dialog.addClass(b.settings.className),0==b.initialized&&(b.draggable=!1,b.isOpen=!1,b.overlay=null),b.closeInterval=isNaN(b.settings.closeTimeoutInterval)?-1:b.settings.closeTimeoutInterval,h(),o(),q(),b.positioner=new U(b.settings.mode),b.me.removeClass("sf-flyout"),1==b.me.is("iframe")&&b.me.attr({scrolling:"no",frameborder:"0"}).css({overflow:"visible"}),a.inArray(b.me[0],b.inner.children())<0&&b.inner.empty().append(b.me),b.me.show(),0==b.initialized&&(b.isFixed=!/msie|MSIE 6/.test(navigator.userAgent),b.initialized=!0),0==F()){var k=b.context.ext.window();a(k).bind("unload."+b.meId,V),a(k).bind("scroll."+b.meId,B),a(k).bind("resize."+b.meId,B),a(b.context.ext.document()).bind("keydown."+b.meId,D),a(b.context.ext.body()).bind(b.blurEvents,C),b.me.is("iframe")&&setTimeout(function(){a(b.me.contents()).bind(b.blurEvents,g)},1e3),b.unboundEvents=!1}b.dialog.css("position",1!=b.isFixed||b.settings.veil?"absolute":"fixed"),e!==!0&&1==b.settings.autoOpen&&E(b.settings),e!==!0&&null!=b.settings.save&&O(c),e!==!0&&null!=b.settings.load&&N(c),"string"==typeof b.settings.message?(b.msgOverlay||I(),require("starfield/sf.msg.overlay",function(){b.msgOverlay=b.dialog.sfMsgOverlay({style:"progress",message:b.settings.message})})):b.msgOverlay&&(H(),b.msgOverlay.sfMsgOverlay({message:null}),b.msgOverlay=null)}function g(c){var d=a(c.target),e=d.attr("data-flyout");if(b.opened.length>0){var f=b.opened;e&&""!=e&&(f=f.not("#"+e)),f.sfFlyout("close")}}function h(){var a=b.settings;"static"==a.anchor.css("position")&&a.anchor.css("position","relative"),b.zIndex=b.originalZIndex=$sf.util.zIndex.getAssigned(a.anchor),0===b.zIndex&&(b.zIndex=3),a.anchor.css("z-index",b.zIndex),b.dialogZIndex=isNaN(a.zIndex)?$sf.util.zIndex.maxForLayer(b.layer)+2:a.zIndex,b.dialog.css({"z-index":b.dialogZIndex})}function j(a){return null==b.tabs?null:b.tabs.sfTabs("isdisabled",a)}function k(a){return null!=b.tabs?b.tabs.sfTabs("enable",a):void 0}function l(a){return null!=b.tabs?b.tabs.sfTabs("disable",a):void 0}function m(a,b){var c=parseInt(a);return isNaN(c)?0:c}function n(a){b.closeOnBlur=a!==!1}function o(){var c=b.settings,d={origin:b.settings.anchor},e=function(c){var d=a(c.target);return d.attr("data-busy")||1!=b.initialized?void 0:(F()?z():E(),d.attr("data-busy",setTimeout(function(){d.removeAttr("data-busy")},300)),!1)};if(d.origin.addClass("sf-flyout-origin").attr("data-flyout",b.meId).bind("click."+b.meId,e),"tab"===b.mode){d.base=a("<div />").height(d.origin.outerHeight()).width(d.origin.outerWidth(!1)).appendTo(b.context.intr.body()),d.base.wrap('<div class="sf-flyout-anchor-wrap sf-flyout-anchor-open" />').wrap('<div class="sf-flyout-anchor-border" />').wrap('<div class="sf-flyout-anchor" />'),d.main=d.base.parent(),d.box=d.main.parent(),d.wrap=d.box.parent(),"*"!=c.client&&(d.wrap.wrap('<span class="sf-flyout-anchor-client-'+c.client+'" />'),d.clientWrap=d.wrap.parent()),d.borderWidth=m(d.box.css("border-left-width"),0)+m(d.box.css("border-right-width"),0),d.paddingWidth=m(d.main.css("padding-left"),0)+m(d.main.css("padding-right"),0);var f=d.base.outerWidth()+d.paddingWidth;m(d.box.css("border-top-width"),0);d.box.width(f),d.main.width(f),d.boxTopAdjustment=-(m(d.box.css("border-top-width"),0)+m(d.main.css("padding-top"),0)),d.boxLeftAdjustment=-(m(d.box.css("border-left-width"),0)+m(d.main.css("padding-left"),0)),d.wrap.css({position:"absolute",zIndex:b.zIndex-2,display:"none"}).bind("click",e),d.borderCover=a('<div class="sf-flyout-anchor-bordercover sf-flyout-anchor-bordercover-client-'+c.client+'" />').appendTo(b.layer).css({position:"absolute",zIndex:b.dialogZIndex+1,width:d.box.width()+"px",height:c.boxShadowAdjustment+c.dialogBoxShadowAdjustment+"px",display:"none"}),("transparent"===d.borderCover.css("backgroundColor")||"rgba(0, 0, 0, 0)"===d.borderCover.css("backgroundColor"))&&d.borderCover.css("backgroundColor",d.main.css("backgroundColor"))}if(b.closeInterval>-1){var g=d.wrap?d.wrap:d.origin;g.bind("mouseleave."+b.meId,w).bind("mouseenter."+b.meId,x)}b.anchor=d,"tab"===b.mode&&b.anchor.origin.css("zIndex",b.originalZIndex)}function p(a){a=a?a:{};var c=a.dialogZIndex&&"number"==typeof a.dialogZIndex&&a.dialogZIndex>0?a.dialogZIndex:$sf.util.zIndex.maxForLayer(b.layer)+2;if(b.dialogZIndex=c,b.dialog.css({"z-index":c}),b.anchor.borderCover.css({zIndex:c+1}),a.resetAnchor===!0){var d=b.anchor.origin;"static"==d.css("position")&&d.css("position","relative"),b.originalZIndex=b.zIndex=$sf.util.zIndex.getAssigned(d),0==b.zIndex&&(b.zIndex=3),d.css("zIndex",b.zIndex),b.anchor.wrap.css("zIndex",b.zIndex-2)}}function q(){b.meHasWidth=!1,b.meHasHeight=!1;var c=b.me.attr("style"),d=null==c?[]:c.toLowerCase().split(";");a(d).each(function(c,d){var e=d.split(":");e.length>1&&"width"==a.trim(e[0])&&"auto"!=a.trim(e[1]).toLowerCase()&&(b.meHasWidth=!0),e.length>1&&"height"==a.trim(e[0])&&"auto"!=a.trim(e[1]).toLowerCase()&&(b.meHasHeight=!0)}),c=b.me.attr("width"),"string"==typeof c&&c.length>1&&(b.meHasWidth=!0),c=b.me.attr("height"),"string"==typeof c&&c.length>1&&(b.meHasHeight=!0),b.closeInterval>-1&&b.dialog.bind("mouseleave."+b.meId,w).bind("mouseenter."+b.meId,x),r()}function r(){null!=b.tabs&&(b.tabs.sfTabs("destroy"),b.tabs=null,b.tabsHeight=0);var c=b.me.children(".sf-tabs-content");if(0!=c.length){c.css("padding",0);b.tabs=b.me.sfTabs({mode:b.settings.tabMode,bborder:!0,onTabSelected:function(c,d,e){return 1==a.isFunction(b.settings.onTabSelected)&&0==b.settings.onTabSelected(b.me,d,e)?!1:void A({async:!0,noanim:!1})},onTabDeselected:function(c,d,e){return 1==a.isFunction(b.settings.onTabDeselected)&&0==b.settings.onTabDeselected(b.me,d,e)?!1:void 0}}),b.tabs_menu=b.me.children(".sf-tabs:first,.sf-g-tabs:first,.sf-tabs-toggle:first"),0==b.tabs_menu.length&&(b.tabs_menu=b.me.parent().children(".sf-tabs:first,.sf-g-tabs:first,.sf-tabs-toggle:first")),b.content.before(b.tabs_menu),1==b.dialog.is(":visible")&&(b.tabsHeight=b.tabs_menu.outerHeight())}}function s(a){var c="sf-flyout-client-"+b.settings.client+"-tpr-",d={tl:"topleft",tr:"topright",bl:"bottomleft",br:"bottomright",ul:"upperleft",ur:"upperright",ll:"lowerleft",lr:"lowerright",uc:"uppercenter",lc:"lowercenter",mr:"middleright",ml:"middleleft"};return c+d[a]}function t(a){b.opened=b.opened.add(a),b.inner.bind("scroll",function(){a.sfFlyout("reposition")})}function u(a){b.opened&&(b.opened=b.opened.filter(a))}function w(){F()&&(b.closeTimer&&clearTimeout(b.closeTimer),b.closeTimer=setTimeout(function(){z()},b.closeInterval))}function x(){b.closeTimer&&clearTimeout(b.closeTimer)}function y(c,d){if(1!=c&&z(!0),0!=b.initialized){if(b.initialized=!1,b.opener&&b.opener.sfFlyout("removeOpened",b.me),"undefined"!=typeof b.dialog){b.anchor.origin.attr("data-busy",!0),"tab"===b.mode&&b.anchor.wrap.attr("data-busy",!0);var e=function(){b.me.removeClass("sf-flyout-main"),b.dialog&&(b.dialog.unbind("."+b.meId),b.dialog.remove(),delete b.dialog),b.anchor&&("tab"===b.mode&&(b.anchor.clientWrap?b.anchor.clientWrap.remove():b.anchor.wrap.remove(),b.anchor.borderCover.remove()),b.anchor.origin.unbind("."+b.meId).removeClass("sf-flyout-origin").removeAttr("data-flyout data-busy"),delete b.anchor)};d?e():setTimeout(e,600)}delete b.settings,delete a.fn.sfFlyout.instances[b.meId]}}function z(c,e){if(F()!==!1&&(0==b.settings.noConflict&&($sfFlyout=d),"undefined"==typeof c&&(c=!1),b.opened.length>0&&b.opened.sfFlyout("close"),!(1==a.isFunction(b.settings.onCancel)&&0==b.settings.onCancel()&&0==c||1==a.isFunction(b.settings.onClose)&&0==b.settings.onClose()&&0==c))){a.fn.sfFlyout.opens--,a.fn.sfFlyout.saves={},a.fn.sfFlyout.savesArr=[],b.closeTimer&&(clearTimeout(b.closeTimer),b.closeTimer=void 0);var f=b.context.ext.window();a(f).unbind("unload."+b.meId),a(f).unbind("scroll."+b.meId),a(f).unbind("resize."+b.meId),a(b.context.ext.document()).unbind("keydown."+b.meId),a(b.context.ext.body()).unbind(b.blurEvents),b.me.is("iframe")&&a(b.me.contents()).unbind(b.blurEvents),b.unboundEvents=!0,e?(b.dialog.hide(),"tab"===b.mode&&(b.anchor.wrap.hide().removeClass("sf-flyout-anchor-open"),b.anchor.borderCover.hide(),b.anchor.origin.css("zIndex",b.originalZIndex))):(b.dialog.fadeOut(500),"tab"===b.mode&&(b.anchor.wrap.fadeOut(500,function(){b.anchor.wrap.removeClass("sf-flyout-anchor-open"),b.anchor.origin.css("zIndex",b.originalZIndex)}),b.anchor.borderCover.fadeOut(500))),b.isOpen=!1,1==b.settings.destroyOnClose&&y(!0)}}function A(c){var d=a.extend(!0,{async:!1,noanim:!0,callback:null},c);if(b.opener&&b.opener.length>0&&b.opener[0].tagName&&"iframe"===b.opener[0].tagName.toLowerCase())z(!1,!0);else{if(1==d.async){if(null!=X)return;return void(X=1==d.noanim?setTimeout(function(){b.positioner.positionDialogNoAnim(),d.callback&&d.callback()},100):setTimeout(function(){b.positioner.positionDialog(),d.callback&&d.callback()},100))}b.positioner.positionDialog(d.noanim===!0,d.forceStayInSpot===!0)}d.callback&&d.callback()}function B(){1==F()&&A({async:!1,noanim:!0,forceStayInSpot:b.settings.ignoreWindowChanges===!0})}function C(c,d){if(1==F()&&b.closeOnBlur){var e=!1,f=$sf.util.jCompat,g=d&&d.target?d.target:c.target,h=a(g);if(e=f.isEl(b.anchor.origin,h),e||(e=f.findEl(b.anchor.origin,h).length>0),"tab"===b.mode&&(e||(e=f.findEl(b.anchor.wrap,h).length>0)),e||(e=f.findEl(b.dialog,h).length>0),!e&&b.settings&&"undefined"!=typeof b.settings.extendedElements&&(e=f.isEl(b.settings.extendedElements,h),e||b.settings.extendedElements.each(function(){return e?!1:void(e=f.isEl(h.parents(),a(this)))})),!e&&b.opened&&b.opened.length>0){var i=!1;b.opened.each(function(){var b=a(this);if(!i){var c=f.isEl(b,h)||f.findEl(b,h).length>0;!c&&b.is("iframe")&&(c=f.findEl(b.contents(),h).length>0),i=c}}),e=i}e||(b.settings&&"*"!=b.settings.client&&b.settings.singleClientInstance&&h.is(":sf-flyout-anchor(client="+b.settings.client+")")?z(void 0,!0):z())}}function D(a){if(!b.msgOverlay){switch(a.keyCode){case 27:"undefined"!=typeof b.settings&&0==b.settings.cancelDisabled&&1==b.settings.closeOnEscape&&cancel()}return!0}}function E(c){if(0==b.initialized&&f(c),0==b.settings.noConflict&&($sfFlyout=d),1!=F()){if("*"!=b.settings.client&&b.settings.singleClientInstance){var e=a(".sf-flyout-main:sf-flyout(open="+b.settings.client+")").not("#"+b.meId).not(b.opener);e.length>0&&e.sfFlyout("closeNow")}b.dialog.show(),"tab"===b.mode&&(b.anchor.origin.css("zIndex",b.zIndex),b.anchor.wrap.show(),b.anchor.borderCover.show(),b.anchor.wrap.addClass("sf-flyout-anchor-open")),q(),b.isOpen=!0;var h=b.positioner.positionDialog(!0);if(1==a.isFunction(b.settings.onOpen)&&b.settings.onOpen(h,b.dialog),b.unboundEvents){var i=b.context.ext.window();a(i).bind("unload."+b.meId,V),a(i).bind("scroll."+b.meId,B),a(i).bind("resize."+b.meId,B),a(b.context.ext.document()).bind("keydown."+b.meId,D),a(b.context.ext.body()).bind(b.blurEvents,C),b.me.is("iframe")&&setTimeout(function(){a(b.me.contents()).bind(b.blurEvents,g)},1e3),b.unboundEvents=!1}var j=Q();R(0>j?0:j),a.fn.sfFlyout.opens++}}function F(){return b.initialized&&b.isOpen}function G(){return b.isEnabled}function H(){1!=G()&&0!=b.initialized&&(b.isEnabled=!0)}function I(){0!=G()&&0!=b.initialized&&(b.isEnabled=!1,b.inner.css("overflow","hidden"),b.inner[0].scrollTop=0)}function J(a){1==F()?z():E(a)}function K(b){var c={preload:[]},d=a.extend(!0,c,b);a.each(d.preload,function(b,c){var d=c.split("#")[0],e=a.fn.sfFlyout.resources[d];"undefined"==typeof e&&(d.toLowerCase().lastIndexOf(".js")==d.length-3?(d=d.substr(0,d.length-3),require(d,function(b){b=b.join("\r\n"),a.fn.sfFlyout.resources[d]={url:d,data:b}})):a.ajax({dataType:"text",url:d,success:function(b){a.fn.sfFlyout.resources[d]={url:d,data:b}},error:function(){a.fn.sfFlyout.resources[d]={url:d,data:null}}}))})}function L(c,d){var e=d.split("#"),f=(e[0],"");if(null!=b.settings.page&&(f=b.settings.page),xml=a(c),f.length>0){var g=xml.filter("#"+f),h=xml.filter('[data-page-id="'+f+'"]');b.me.empty().attr({style:g.attr("style"),"data-title":g.attr("data-title")}).append(g.html()),h.length>0&&b.meBody.append(h)}else b.me.empty().append(xml)}function M(){var a={};if(null==b.load_url)return a;var c=b.load_url.split("#");if(c.length<2)return a;var d=c[1],e=d.split("&");for(i=0;i<e.length;i++)v=e[i],args=v.split("="),2==args.length&&(a[args[0]]=args[1]);return a}function N(c){var d={load:null},e=a.extend(!0,d,c);if("string"==typeof e.load&&0!=e.load.length){b.load_url=c.load,c.load=null,"undefined"!=typeof b.settings&&b.settings.loadFresh===!0&&(delete b.settings,f(c,!0));var g=b.load_url.split("#"),h=g[0],i=a.fn.sfFlyout.resources[h];if("undefined"!=typeof i){var j=!1;return null!=i.data?(L(i.data,b.load_url),j=!0):b.me.html("Woops! An error has occurred."),q(),1==a.isFunction(b.settings.onLoad)&&b.settings.onLoad(b.me,c,j),void b.positioner.positionDialog(!0)}b.me.html("Loading, please wait..."),b.positioner.positionDialog(),h.toLowerCase().lastIndexOf(".js")==h.length-3?(h=h.substr(0,h.length-3),require(h,function(d){if(null!=d&&(d=d.data),0!=F()){b.dialog.show(),a.fn.sfFlyout.resources[h]={url:h,data:d};var e=!1;null!=d?(L(d,b.load_url),e=!0):b.me.html("Woops! An error has occurred."),q(),1==a.isFunction(b.settings.onLoad)&&b.settings.onLoad(b.me,c,e),A({async:!0,noanim:!0,callback:function(){b.settings.veil&&veilOpen()}})}})):a.ajax({dataType:"text",url:h,success:function(d){0!=F()&&(b.dialog.show(),a.fn.sfFlyout.resources[h]={url:h,data:d},L(d,b.load_url),q(),1==a.isFunction(b.settings.onLoad)&&b.settings.onLoad(b.me,c,!0),A({async:!0,noanim:!0,callback:function(){}}))},error:function(){0!=F()&&(b.dialog.show(),a.fn.sfFlyout.resources[h]={url:h,data:null},b.me.html("Woops! An error has occurred."),1==a.isFunction(b.settings.onLoad)&&b.settings.onLoad(b.me,c,!1),A({async:!0,noanim:!0}))}})}}function O(c){var e={save:null},f=a.extend(!0,e,c);if("string"==typeof f.save&&0!=f.save.length){var g=f.save;c.save=null;var h=a("input[type='radio'],input[type='checkbox'],select",d),i=a("input[type='radio']",d),j=[];for(i.each(function(b){var c=a(h[b]);1==c.prop("checked")&&j.push(c)}),h.each(function(b){var c=a(h[b]);if(1==c.is("input"))0==c.prop("checked")?c.removeAttr("checked"):c.attr("checked","checked");else if(1==c.is("select")){var d=c.prop("selectedIndex");c.children().removeAttr("selected"),c.children().eq(d).attr("selected","selected")}}),k=0;k<j.length;k++){var k=j[k];k.attr("checked","checked")}var l=b.me.html().replace(/ selected=\"\"/g,"");l=l.replace(/ selected=\"\"/g,"");var m={name:g,settings:a.extend(!0,{},b.settings),meId:b.me.attr("id"),html:l,title:b.me.attr("data-title"),styles:b.me.attr("style")};m.settings.save=null,m.settings.load=null,m.settings.restore=null,a.fn.sfFlyout.saves[g]=m,a.fn.sfFlyout.savesArr.push(m)}}function P(c){var d={restore:null},e=a.extend(!0,d,c);if("undefined"!=typeof e.restore){var f=e.restore;"undefined"!=typeof c&&"undefined"!=typeof c.restore&&delete c.restore;var g;"string"==typeof e.restore?g=a.fn.sfFlyout.saves[f]:1==f&&a.fn.sfFlyout.savesArr.length>0&&(g=a.fn.sfFlyout.savesArr.pop()),"undefined"!=typeof g&&(b.settings=g.settings,b.me.empty().append(g.html).attr({style:g.styles,"data-title":g.title}),q(),b.positioner.positionDialog(!0),a.isFunction(b.settings.onRestore)===!0&&b.settings.onRestore(c))}}function Q(){return null==b.tabs?-1:b.tabs.sfTabs("getSelected")}function R(a){return null!=b.tabs?b.tabs.sfTabs("select",a):void 0}function S(a){return null!=b.tabs?b.tabs.sfTabs("hide",a):void 0}function T(a){return null!=b.tabs?b.tabs.sfTabs("show",a):void 0}function U(c){function d(c,d){var e={top:0,left:0};if(c.get(0).ownerDocument!==d.get(0).ownerDocument){var f=b.opener;f.contents().get(0)!=d.get(0).ownerDocument&&a("iframe").each(function(){$sf.util.jCompat.findEl(a(this).contents(),d).length>0&&(f=a(this))}),f&&f.length>0&&(e=f.offset())}return e}function f(){var c=b.settings.dialogWidthIdeal,d=h.width()-b.inner.width(),e=b.me.children("div.sf-tabs-actv-content"),f=b.dialog.find("ul.sf-tabs-bborder, ul.sf-g-tabs, ul.sf-tabs-toggle-list"),g=c,i=!1;if(f.length>0&&e.length>0&&!e.attr("data-width")){var j=f.outerWidth(!0)-f.width()+d;f.children("li").each(function(){j+=a(this).outerWidth(!0)});var k=e.width(),l=$sf.util.ua.ie&&$sf.util.ua.major<8;g=j>k?j:l?j:k,g>c&&(c=g),e.attr("data-width",c),i=!0}else e.attr("data-width")&&(c=parseInt(e.attr("data-width")));var m=b.me;if(m.is("iframe")){var n=m.get(0),o=m.width(),p=0;p=n.contentDocument?n.contentDocument.body.offsetWidth+35:n.contentWindow.document.body.scrollWidth,o>c&&c>-1&&(c=o+d),p>c&&c>-1&&(n.width=c-d),h.attr("data-width",c)}0>c&&(h.css("width","").find(".sf-flyout-content").width(),c=h.width(),i&&(0==e.length&&(e=b.me.children("div:first")),1==e.length&&e.css("width").indexOf("px")>0&&(c=e.width()>g?e.width():g))),h.width(c)}function g(){var a=b.me;if(a.is("iframe")){h.attr("data-height")||(b.inner.height(h.height()),h.attr("data-height",h.height()));var c=a.get(0);c.contentDocument?c.height=c.contentDocument.body.offsetHeight+35:c.height=c.contentWindow.document.body.scrollHeight,a.height(c.height),c.height>b.inner.height()&&h.width(h.width()+30).attr("data-scrolling","true")}}var h;return this.tab=function(){function a(){var a=b.anchor,c=Math.round(a.origin.offset().top),d=Math.round(a.origin.offset().left);c-=Math.round((a.wrap.outerHeight()-a.origin.outerHeight())/2),d-=Math.round((a.wrap.outerWidth()-a.origin.outerWidth())/2),b.context.isSingle()&&(c+=a.origin.scrollTop(),d+=a.origin.scrollLeft()),a.wrap.css({top:c,left:d})}function c(c,e){function g(){l.addClass("sf-flyout-anchor-border"+("bottom"!=k.display?"-above":"")).removeClass("sf-flyout-anchor-border"+("bottom"!=k.display?"":"-above"))}function i(){h["l"===p.x&&0===p.coords.leftAdj?"addClass":"removeClass"]("sf-flyout-flush"+k.flipDisplay+"left"),h["r"===p.x&&0===p.coords.leftAdj?"addClass":"removeClass"]("sf-flyout-flush"+k.flipDisplay+"right"),h.removeClass("sf-flyout-flush"+k.display+"left sf-flyout-flush"+k.display+"right")}function j(a){var c=b.anchor.borderCover,e=d(m.offset(),m),f=parseInt(h.css("border-"+k.display+"-width"))*("top"==k.display?1:-1),g="bottom"==k.display?-(c.height()-b.settings.dialogBoxShadowAdjustment):-b.settings.dialogBoxShadowAdjustment;c.css({top:e[k.display]+f+g,left:e.left+parseInt(h.css("border-left-width"))})}if(X=null,("bool"!=typeof e||e!==!1)&&0!=F()){a();var k={display:b.settings.yDefaultPosition,flipDisplay:"top"==b.settings.yDefaultPosition?"bottom":"top"},l=b.anchor.box,m=b.anchor.wrap,n=parseInt(b.anchor.box.css("border-"+k.display+"-width"));isNaN(n)&&(n=0),f();var o=b.settings.xIdealPosition.substr(0,1);o="l"===o?"r":"r"===o?"l":o;var p=$sf.util.position.get({ideal:(b.settings.yDefaultPosition.indexOf("top")>-1?"l":"u")+o,container:h,anchor:m,path:"axis",anchorOffset:b.context.isSingle()?{t:0,l:0}:b.context.ext.iframe().offset(),containerOffset:{width:function(){return 0},height:function(){return-(2*n)}},slideAgainstAnchor:!0,context:b.context.ext.window(),sticky:b.settings.sticky});return h.css(p.coords),k.display="u"===p.y?"bottom":"top",k.flipDisplay="u"===p.y?"top":"bottom",g(),i(p),j(p),k.display}}function d(a,b){return b=b?b:h,{left:a.left,top:a.top,right:a.left+b.outerWidth(!0),bottom:a.top+b.outerHeight(!0)}}return h=b.dialog,{positionDialog:c}},this.tip=function(){function a(a,c){X=null;var i=b.tail,j=b.anchor.origin;f(),g();var k=function(a){if(!("undefined"==typeof a||a.length<2)){var b=i.attr("data-tip");b!==a&&i.attr("data-tip",a).removeClass(s(b)).addClass(s(a))}},l=$sf.util.position.get({ideal:b.settings.tipPosition,anchor:j,container:h,context:b.context.ext.window(),anchorOffset:d(h,j),containerOffset:{width:function(a){return k(a),i.width()},height:function(a){return k(a),i.height()}},centerAgainstAnchor:b.settings.centerAgainstAnchor,forceIdeal:c,sticky:e.sticky});h.css({top:l.coords.top+"px",left:l.coords.left+"px"}),k(l.y+l.x)}return h=b.dialog,{positionDialog:a}},{positionDialog:this[c]().positionDialog,positionDialogNoAnim:function(){this[c]().positionDialog(!0)}}}function V(){y()}if(0==d.length)return d;if(b.logger=$sf.util.logger(b.meId,"duel"),"string"==typeof c){var W=c.toLowerCase();switch(W){case"isinitialized":return b.initialized;case"open":E(e);break;case"close":z();break;case"closenow":z(void 0,!0);break;case"isopen":return F();case"toggle":J(e);break;case"destroy":y();break;case"destroynow":y(void 0,!0);break;case"enable":H();break;case"disable":I();break;case"save":O(e);break;case"preload":K(e);break;case"load":N(e);break;case"restore":P(e);break;case"isenabled":return G();case"istabdisabled":return j(e);case"disabletab":l(e);break;case"enabletab":k(e);break;case"resize":b.positioner.positionDialog(e);break;case"reposition":A(e);break;case"getselectedtab":return Q(e);case"selecttab":R(e);break;case"hidetab":S(e);break;case"showtab":T(e);break;case"setopened":t(e);break;case"removeopened":u(e);break;case"opener":return b.opener;case"getloadqs":return M();case"settings":return b.settings;case"anchor":return b.anchor.origin;case"client":return b.settings.client;case"setzindex":p(e);break;case"setcloseonblur":n(e);break;case"init":default:f(e)}}else e=c,f(e);var X=null;return b.me}},f.meId=e,f.fn(f,b,c))},a.fn.sfFlyout.instances={},a.fn.sfFlyout.resources={},a.fn.sfFlyout.saves={},a.fn.sfFlyout.savesArr=[],a.fn.sfFlyout.opens=0,a.fn.sfFlyout.globals={dialogMargin:{x:40,y:20}},a.expr[":"]["sf-flyout"]=function(b,c,d){if(b.className.match(/sf-flyout-main/)){var e=d[3]||"";if(""==e)return!0;var f=a(b);switch(e){case"open":return f.sfFlyout("isOpen");case"closed":return!f.sfFlyout("isOpen");case"iframe":return f.is("iframe");default:var g=e.split("=");if(g.length>1)switch(g[0]){case"id":return f.attr("id")==g[1];case"client":return f.sfFlyout("client")==g[1];case"open":if(f.sfFlyout("client")==g[1])return f.sfFlyout("isOpen")}}}return!1},a.expr[":"]["sf-flyout-anchor"]=function(b,c,d){if(b.className.match(/sf-flyout-origin/)){var e=d[3]||"";if(""==e)return!0;var f=a(b),g=a("#"+f.attr("data-flyout"));switch(e){case"id":return f.attr("data-flyout")==e;case"open":return g.sfFlyout("isOpen");case"closed":return!g.sfFlyout("isOpen");default:var h=e.split("=");if(h.length>1)switch(h[0]){case"client":return g.sfFlyout("client")==h[1];case"open":return g.sfFlyout("client")==h[1],g.sfFlyout("isOpen")}}}return!1},a.fn.sfFlyout}($sf.getjQuery())});